<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title ? `${title} | PETWOOF` : "PETWOOF" %></title>

  <link rel="stylesheet" href="/css/app.css" />
  <% if (pageCss) { %>
    <link rel="stylesheet" href="<%= pageCss %>" />
  <% } %>
</head>

<body class="app">
  <%- include("../partials/navbar") %>

  <main class="page">
    <div class="container">
      <%- body %>
    </div>
  </main>

  <%- include("../partials/footer") %>

  <!-- Overlay + Drawer del carrito (GLOBAL) -->
  <div class="drawerOverlay" id="drawerOverlay" hidden></div>

  <aside class="cartDrawer" id="cartDrawer" aria-hidden="true">
    <div class="cartDrawer__head">
      <div class="cartDrawer__title">Carrito</div>
      <button class="cartDrawer__close" id="closeCartBtn" type="button" aria-label="Cerrar">✕</button>
    </div>

    <div class="cartDrawer__line"></div>

    <div class="cartDrawer__items" id="cartDrawerItems">
      <!-- items por JS -->
    </div>

    <div class="cartDrawer__line"></div>

    <div class="cartDrawer__foot">
      <div class="cartDrawer__subtotal">
        <span>Subtotal</span>
        <strong id="cartDrawerSubtotal">$0.00</strong>
      </div>

      <div class="cartDrawer__actions">
        <a class="pillBtn" href="/cart">Ir a carrito</a>
        <button class="pillBtn pillBtn--outline" id="cartDrawerClearBtn" type="button">Vaciar</button>
      </div>
    </div>
  </aside>

  <!-- JS global (drawer funciona en todas las páginas) -->
  <script src="/js/cart.js" defer></script>

  <% if (pageJs) { %>
    <script src="<%= pageJs %>" defer></script>
  <% } %>
</body>
</html>
